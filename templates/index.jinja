{%extends 'base.jinja'%}

{%block title%} Inicio {%endblock%}

{%block content%}
<br><br><br><br>
<div class="overflow-x-auto rounded-box border border-base-content/5 bg-base-100">
    <table class="table">
        <!-- head -->
        <thead>
            <tr>
                <th><button onclick="new_modal_user.showModal()" type="button"
                        class="btn btn-sm btn-success"><strong>Nuevo</strong></button></th>
                <th></th>
                <th></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {%for user in users%}
            <tr>
                <td>{{user.username}}</td>
                <td>{{user.role}}</td>
                <td></td>
                <td></td>
            </tr>
            {%endfor%}
        </tbody>
    </table>
</div>
<br><br>
<div class="join shadow shadow-green-500">
    {%if users.has_prev%}
        <a type="button" href="?page={{users.prev_num}}" class="join-item btn">«</a>
    {%endif%}
    <button class="join-item btn">Page {{users.page}}</button>
    {%if users.has_next%}
        <a type="button" href="?page={{users.next_num}}" class="join-item btn">»</a>
    {%endif%}
</div>

<!-- You can open the modal using ID.showModal() method -->
<dialog id="new_modal_user" class="modal">
    <div class="modal-box">
        <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
        </form>
        <form action="{{url_for('create_user')}}" method="post">
            <div>
                <label for="user_input text-bold"><strong>Nombre de Usuario</strong></label><br>
                <input type="text" id="user_input" name="username" class="input input-sm input-success w-full" />
                <div class="flex w-full">
                    <div class="p-2">
                        <label for="passwd_input"><strong>Contraseña</strong></label>
                        <input type="password" id="passwd_input" name="passwd" class="input input-sm input-success" />
                    </div>
                    <div class="p-2">
                        <label for="passwd_input_confirm"><strong>Confirmar Contraseña</strong></label>
                        <input type="password" id="passwd_input_confirm" name="passwd_confirm" class="input input-sm input-success" />
                    </div>
                </div>
            </div>
            <br>
            <button type="submit" class="btn btn-wide btn-sm btn-success w-full"><strong>Crear</strong></button>
        </form>
    </div>
</dialog>

{%endblock%}